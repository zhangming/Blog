(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{590:function(a,t,s){"use strict";s.r(t);var e=s(17),l=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h3",{attrs:{id:"为什么需要构建工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要构建工具"}},[a._v("#")]),a._v(" 为什么需要构建工具")]),a._v(" "),s("ul",[s("li",[a._v("转换ES6语法")]),a._v(" "),s("li",[a._v("转换JSX")]),a._v(" "),s("li",[a._v("css前缀补全/预处理器")]),a._v(" "),s("li",[a._v("压缩混淆")]),a._v(" "),s("li",[a._v("图片压缩")])]),a._v(" "),s("h3",{attrs:{id:"前端构建演变之路"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端构建演变之路"}},[a._v("#")]),a._v(" 前端构建演变之路")]),a._v(" "),s("ul",[s("li",[a._v("ant + YUI TOOL -> grunt ->fis3/gulp -> rollup/webpack/parcel")])]),a._v(" "),s("h3",{attrs:{id:"初识webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初识webpack"}},[a._v("#")]),a._v(" 初识webpack")]),a._v(" "),s("ul",[s("li",[a._v("webpack 默认配置文件：webpack.config.js")]),a._v(" "),s("li",[a._v("可以通过webpack --config 指定配置文件\n"),s("img",{attrs:{src:"https://s2.loli.net/2021/12/29/sfdgIBkKSGWelnv.png",alt:"image.png"}})])]),a._v(" "),s("h3",{attrs:{id:"环境搭建-安装webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建-安装webpack"}},[a._v("#")]),a._v(" 环境搭建：安装webpack")]),a._v(" "),s("ul",[s("li",[a._v("安装 nvm")]),a._v(" "),s("li",[a._v("安装Node.js 和 NPM")])]),a._v(" "),s("h3",{attrs:{id:"webpack-初体验-一个最简单的例子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-初体验-一个最简单的例子"}},[a._v("#")]),a._v(" webpack 初体验：一个最简单的例子")]),a._v(" "),s("ul",[s("li",[a._v("mkdir my-project")]),a._v(" "),s("li",[a._v("npm init -y")]),a._v(" "),s("li",[a._v("npm install webpack webpack-cli --save-dev")]),a._v(" "),s("li",[a._v("配置entry,output 完成最简单的打包\n"),s("img",{attrs:{src:"https://s2.loli.net/2021/12/29/xOLjdPibGHneRva.png",alt:"image.png"}})])]),a._v(" "),s("h3",{attrs:{id:"通过npm-script-运行webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通过npm-script-运行webpack"}},[a._v("#")]),a._v(" 通过npm script 运行webpack")]),a._v(" "),s("ul",[s("li",[a._v("package.json 增加script 命令\n"),s("img",{attrs:{src:"https://s2.loli.net/2021/12/29/XjpEr15ovCKbGL9.png",alt:"image.png"}})])]),a._v(" "),s("h3",{attrs:{id:"webpack-核心概念之entry"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-核心概念之entry"}},[a._v("#")]),a._v(" webpack 核心概念之entry")]),a._v(" "),s("ul",[s("li",[a._v("入口文件，单页面的值是个string，多页面值是Object里面是key value 格式指定入口\n"),s("img",{attrs:{src:"https://s2.loli.net/2021/12/29/PX6kSKnYma85jgR.png",alt:"image.png"}})])]),a._v(" "),s("h3",{attrs:{id:"webpack-核心概念之output"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-核心概念之output"}},[a._v("#")]),a._v(" webpack 核心概念之output")]),a._v(" "),s("ul",[s("li",[a._v("output 用来告诉webpack 如何将编译后的文件输出到磁盘")]),a._v(" "),s("li",[a._v("单入口output 配置\n"),s("img",{attrs:{src:"https://s2.loli.net/2021/12/29/Jo9qM8TPelxZ4vH.png",alt:"image.png"}})]),a._v(" "),s("li",[a._v("多入口output 配置\n"),s("img",{attrs:{src:"https://s2.loli.net/2021/12/29/oaQD6n3rVLychBm.png",alt:"image.png"}})])]),a._v(" "),s("h3",{attrs:{id:"webpack-核心概念之loaders"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-核心概念之loaders"}},[a._v("#")]),a._v(" webpack 核心概念之loaders")]),a._v(" "),s("ul",[s("li",[a._v("webpack原生只支持JS和JSON两种文件类型")]),a._v(" "),s("li",[a._v("通过loaders去支持其它文件类型，把它们转换成有效的模块，并且可以添加到依赖图中")]),a._v(" "),s("li",[a._v("本身是个函数，接受源文件作为参数，返回转换的结果")]),a._v(" "),s("li",[a._v("常用的loaders\n"),s("img",{attrs:{src:"https://s2.loli.net/2021/12/29/HK9XNCkTFBa3rSz.png",alt:"image.png"}})]),a._v(" "),s("li",[a._v("loaders的用法\n"),s("img",{attrs:{src:"https://s2.loli.net/2021/12/29/UISWo31AEkxvdBn.png",alt:"image.png"}}),a._v(" "),s("img",{attrs:{src:"https://s2.loli.net/2021/12/29/Mk8URN976Yayoqn.png",alt:"image.png"}})])]),a._v(" "),s("h3",{attrs:{id:"webpack-核心概念之plugins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-核心概念之plugins"}},[a._v("#")]),a._v(" webpack 核心概念之plugins")]),a._v(" "),s("ul",[s("li",[a._v("用于bundle文件的优化，资源管理和环境变量注入，作用于整个构建过程")]),a._v(" "),s("li",[a._v("常见的Plugins\n"),s("img",{attrs:{src:"https://s2.loli.net/2021/12/29/usYcrFXBhIQZngR.png",alt:"image.png"}})]),a._v(" "),s("li",[a._v("Plugins的用法\n"),s("img",{attrs:{src:"https://s2.loli.net/2021/12/29/ptd6SFglvCaHLrQ.png",alt:"image.png"}})])]),a._v(" "),s("h3",{attrs:{id:"webpack-核心概念之mode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-核心概念之mode"}},[a._v("#")]),a._v(" webpack 核心概念之mode")]),a._v(" "),s("ul",[s("li",[a._v("Mode用来指定当前的构建环境是：production、development、还是 none")]),a._v(" "),s("li",[a._v("设置Mode可以使用webpack内置的函数，默认值为production")]),a._v(" "),s("li",[a._v("Mode的内置函数功能\n"),s("img",{attrs:{src:"https://s2.loli.net/2021/12/29/M5vduhjI6SKYzRy.png",alt:"image.png"}})]),a._v(" "),s("li",[a._v('Mode的使用方法  mode:"production"')])]),a._v(" "),s("h3",{attrs:{id:"解析ecmascript6和react-jsx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解析ecmascript6和react-jsx"}},[a._v("#")]),a._v(" 解析ECMAScript6和React JSX")]),a._v(" "),s("ul",[s("li",[a._v("安装 babel-loader: npm i @babel/core @babel/preset-env babel-loader -D")]),a._v(" "),s("li",[a._v("增加 .babelrc文件\n"),s("img",{attrs:{src:"https://s2.loli.net/2021/12/30/OHb9Ty2er3EDWFw.png",alt:"image.png"}})])]),a._v(" "),s("h3",{attrs:{id:"解析css、less和sass"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解析css、less和sass"}},[a._v("#")]),a._v(" 解析Css、Less和Sass")]),a._v(" "),s("ul",[s("li",[a._v("css-loader 用于加载.css文件，并且转化成commonjs对象、")]),a._v(" "),s("li",[a._v("style-loader 将样式通过"),s("style"),a._v("标签插入到head中")]),a._v(" "),s("li",[a._v("配置loader时，loader是链式调用，执行顺序是从右到左的，所以如下配置是先执行css-loader\n"),s("img",{attrs:{src:"https://s2.loli.net/2021/12/30/EmoZ5YqHSzAItKB.png",alt:"image.png"}})])]),a._v(" "),s("h3",{attrs:{id:"解析图片和字体"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解析图片和字体"}},[a._v("#")]),a._v(" 解析图片和字体")]),a._v(" "),s("ul",[s("li",[a._v("file-loader 用于处理文件， png/svg/jpg/gif 等；")]),a._v(" "),s("li",[a._v("file-loader 也可用于处理字体文件，woff/woff2/eot/ttf/otf 等")]),a._v(" "),s("li",[a._v("url-loader 也可以处理图片和字体，可以设置较小资源自动base64\n"),s("img",{attrs:{src:"https://s2.loli.net/2022/01/04/wAYBIkQMTW2rbqL.png",alt:"image.png"}})])]),a._v(" "),s("h3",{attrs:{id:"webpack中的文件监听"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack中的文件监听"}},[a._v("#")]),a._v(" webpack中的文件监听")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("文件监听是在发现源码发生变化时，自动重新构建出新的输出文件")])]),a._v(" "),s("li",[s("p",[a._v("webpack 开启监听模式，有两种方式：")]),a._v(" "),s("p",[a._v("启动webpack 命令时，带上 --watch 参数\n在配置 webpack.config.js 中设置 watch:true")])]),a._v(" "),s("li",[s("p",[a._v("文件监听的原理分析\n轮询判断文件的最后编辑时间是否变化\n某个文件发生了变化。并不会立刻告诉监听者，而是县缓存起来，等aggregateTimeout\n"),s("img",{attrs:{src:"https://s2.loli.net/2022/01/04/MdNwtJlg7sX6Z15.png",alt:"image.png"}})])])]),a._v(" "),s("h3",{attrs:{id:"webpack-中的热更新及原理分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-中的热更新及原理分析"}},[a._v("#")]),a._v(" webpack 中的热更新及原理分析")]),a._v(" "),s("ul",[s("li",[a._v("热更新 webpack-dev-server, wds不刷新浏览器，wds不输出文件而是放在内存中，使用HotModuleReplacementPlugin插件")]),a._v(" "),s("li",[a._v("热更新 webpack-dev-middleware, wdm将webpack输出的文件传输给服务器，适用于灵活场景的定制")]),a._v(" "),s("li",[a._v("热更新原理分析：\n"),s("img",{attrs:{src:"https://s2.loli.net/2022/01/04/RnrfWpB5xezw3s2.png",alt:"image.png"}})])]),a._v(" "),s("h3",{attrs:{id:"文件指纹策略-chunkhash、contenthash和hash"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件指纹策略-chunkhash、contenthash和hash"}},[a._v("#")]),a._v(" 文件指纹策略：chunkhash、contentHash和hash")]),a._v(" "),s("ul",[s("li",[a._v("Hash: 和整个项目的构建相关，只要项目文件有修改，整个项目构建的hash值就会更改")]),a._v(" "),s("li",[a._v("Chunkhash: 和webpack打包的chunk有关，不同的entry会生成不同的chunkhash值")]),a._v(" "),s("li",[a._v("Contenthash: 根据文件内容来定义hash，文件内容不变则contenthash不变")]),a._v(" "),s("li",[a._v("设置output的filename，使用[chunkhash]")])]),a._v(" "),s("h3",{attrs:{id:"html、css和javascript代码压缩"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#html、css和javascript代码压缩"}},[a._v("#")]),a._v(" HTML、CSS和JavaScript代码压缩")]),a._v(" "),s("ul",[s("li",[a._v("JS文件压缩，内置了 uglifyjs-webpack-plugin")]),a._v(" "),s("li",[a._v("Css文件压缩，使用optimize-css-assets-webpack-plugin（webpack5使用css-minimizer-webpack-plugin） 同时使用cssnano")]),a._v(" "),s("li",[a._v("Html文件压缩，修改html-webpack-plugin，设置压缩参数")])]),a._v(" "),s("blockquote",[s("p",[a._v("有三个比较容易混淆的概念，bundle，chunk和module。\nbundle：打包最终生成的文件\nchunk：每个chunk是由多个module组成，可以通过代码分割成多个chunk。\nmodule：webpack中的模块（js、css、图片等等）")])])])}),[],!1,null,null,null);t.default=l.exports}}]);